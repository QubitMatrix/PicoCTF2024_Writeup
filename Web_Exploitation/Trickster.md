# Description
I found a web app that can help process images: PNG images only!   
Try it [here](http://atlas.picoctf.net:52419/)!

# Solution
- We can enumerate and get hidden directories using gobuster 
	- `gobuster -u <url>  -w /usr/share/wordlists/dirb/big.txt dir`
	- We can find 'robots.txt' and on checking that it shows an 'uploads' folder and an 'instruction.txt'
	- The instruction.txt hints at the images being stored inside uploads directory for further processing
	- Trying to upload a file without png extension does not work nor does changing just the extension to png as it checks for the magic bytes (first few bytes of file should contain 'PNG' in hexadecimal)
	- Since the uploaded image can be access again through the server we can instead upload a executable to run commands on the server hence exposing the flag
	- Use a webshell script -> https://gist.github.com/joswr1ght/22f40787de19d80d110b37fb79ac3985
	- To make it a png file and ensure the magic bytes match add **PNG** in the start of the file and rename it to image.png.php
	- Go to the uploads/image.png.php and there is a command box which takes input and executes them
		- `grep -r "picoctf" /*` can be used but is time consuming -> instead use `find / -name *.txt` to get all text files and a `cat` on the file to get the flag
	- Flag -> picoCTF{c3rt!fi3d_Xp3rt_tr1ckst3r_<some_id>}

